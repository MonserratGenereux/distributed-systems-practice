<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="css/materialize.css" rel="stylesheet">
    </head>
    <body>
        <style>
            html,body{
                height: 100%;
                width: 100%;
            }
            .carousel{
                height: 100% !important;
            }
        </style>
        <div class="carousel carousel-slider center" data-indicators="true">
            <div class="carousel-fixed-item center">
                <ul>
                    <li>César Arturo González</li>
                    <li>Diego Toledo</li>
                    <li>Monse Sanchez</li>
                    <li>Gabriel Trujillo</li>
                    <li>Victor García</li>
                </ul>
            </div>
            <div class="carousel-item red white-text" href="#one!">
            <h2>Send File</h2>
            <formn id="formulario" style="width:50%; margin-left: 25%">
                <div class="file-field input-field">
                    <div class="btn">
                        <span>File</span>
                        <input id="fileInput" type="file" name="file">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text">
                    </div>
                </div>
                <button id="sendbutton" class="btn waves-effect waves-light" type="submit" name="action">Submit
                    <i class="material-icons right">send</i>
                </button>
            </form>
            </div>
            <div class="carousel-item amber white-text" href="#two!">
            <h2>Get File</h2>
                <a id="downloadbutton" href="10.43.61.180:4000/download" class="btn waves-effect waves-light" >Download
                    <i class="material-icons right">file_download</i>
                </a>
            </div>
        </div>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script>

            $(document).ready(function(event){
                $("#sendbutton").click(function(event){
                    
                    var file = document.getElementById('fileInput').files[0];
                    var textType = /text.*/;

                    if (file.type.match(textType)) {
                        var reader = new FileReader();

                        reader.onload = function(e) {
                            $.get( "http://10.43.61.180:4000/file", {file: reader.result} );
                        }

                        reader.readAsText(file);    
                    } else {
                        console.log("File not supported!");
                    }
                    
                    event.preventDefault();
                });
                $("#downloadbutton").click(function(event){

                });
            })
            
             $('.carousel.carousel-slider').carousel({fullWidth: true});
        </script>
    </body>
</html>